# Next.js + Supabase + shadcn/ui é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Next.js 15ã€Supabase å’Œ shadcn/ui æ„å»ºçš„ç°ä»£åŒ– Web åº”ç”¨æ¨¡æ¿ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… **Next.js 15** - æœ€æ–°çš„ React æ¡†æ¶
- âœ… **Supabase è®¤è¯** - å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€é‚®ç®±éªŒè¯
- âœ… **shadcn/ui** - ç²¾ç¾çš„ UI ç»„ä»¶åº“
- âœ… **TypeScript** - ç±»å‹å®‰å…¨
- âœ… **Tailwind CSS v4** - ç°ä»£åŒ–æ ·å¼
- âœ… **ç”¨æˆ·å¤´åƒä¸Šä¼ ** - æ”¯æŒè‡ªå®šä¹‰å¤´åƒ ğŸ†•
- âœ… **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- âœ… **æ·±è‰²æ¨¡å¼æ”¯æŒ** - è‡ªåŠ¨é€‚é…ç³»ç»Ÿä¸»é¢˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env.local`ï¼š

```bash
cp .env.example .env.local
```

ç¼–è¾‘ `.env.local`ï¼Œå¡«å…¥ä½ çš„ Supabase é…ç½®ï¼š

```env
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### 3. é…ç½® Supabase Storageï¼ˆç”¨äºå¤´åƒä¸Šä¼ ï¼‰

åœ¨ Supabase Dashboard ä¸­ï¼š

1. åˆ›å»ºå­˜å‚¨æ¡¶ï¼šStorage â†’ New bucket â†’ åç§°ï¼š`avatars`ï¼Œå‹¾é€‰ Public bucket
2. é…ç½®ç­–ç•¥ï¼šSQL Editor â†’ æ‰§è¡Œ `supabase-storage-policies.sql` æ–‡ä»¶å†…å®¹

è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ï¼š[STORAGE_SETUP.md](./STORAGE_SETUP.md)

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000

## ğŸ“ é¡¹ç›®ç»“æ„

```
next-bill/
â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ callback/          # è®¤è¯å›è°ƒå¤„ç†
â”‚   â”‚   â”œâ”€â”€ login/             # ç™»å½•/æ³¨å†Œé¡µé¢
â”‚   â”‚   â””â”€â”€ success/           # æ³¨å†ŒæˆåŠŸé¡µé¢
â”‚   â”œâ”€â”€ profile/               # ç”¨æˆ·èµ„æ–™é¡µé¢
â”‚   â”œâ”€â”€ layout.tsx             # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx               # é¦–é¡µ
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                    # shadcn/ui ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ avatar.tsx
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ avatar-upload.tsx      # å¤´åƒä¸Šä¼ ç»„ä»¶ ğŸ†•
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts          # å®¢æˆ·ç«¯ Supabase å®ä¾‹
â”‚   â”‚   â”œâ”€â”€ server.ts          # æœåŠ¡ç«¯ Supabase å®ä¾‹
â”‚   â”‚   â””â”€â”€ middleware.ts      # è®¤è¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ utils.ts               # å·¥å…·å‡½æ•°
â”œâ”€â”€ supabase-storage-policies.sql  # å­˜å‚¨ç­–ç•¥ SQL ğŸ†•
â”œâ”€â”€ STORAGE_SETUP.md           # å­˜å‚¨é…ç½®æŒ‡å— ğŸ†•
â”œâ”€â”€ AVATAR_UPLOAD_GUIDE.md     # å¤´åƒä¸Šä¼ ä½¿ç”¨æŒ‡å— ğŸ†•
â””â”€â”€ components.json            # shadcn/ui é…ç½®
```

## ğŸ¨ å·²å®‰è£…çš„ UI ç»„ä»¶

- Avatar - å¤´åƒç»„ä»¶
- Badge - å¾½ç« ç»„ä»¶
- Button - æŒ‰é’®ç»„ä»¶
- Card - å¡ç‰‡ç»„ä»¶
- Dialog - å¯¹è¯æ¡†ç»„ä»¶ ğŸ†•
- Input - è¾“å…¥æ¡†ç»„ä»¶
- Label - æ ‡ç­¾ç»„ä»¶
- Separator - åˆ†éš”çº¿ç»„ä»¶
- Sonner - Toast é€šçŸ¥ç»„ä»¶

### æ·»åŠ æ›´å¤šç»„ä»¶

```bash
npx shadcn@latest add [component-name]
```

æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç»„ä»¶ï¼šhttps://ui.shadcn.com/docs/components

## ğŸ“– åŠŸèƒ½è¯´æ˜

### ç”¨æˆ·è®¤è¯

- **æ³¨å†Œ**ï¼šé‚®ç®± + å¯†ç æ³¨å†Œï¼Œè‡ªåŠ¨å‘é€éªŒè¯é‚®ä»¶
- **ç™»å½•**ï¼šæ”¯æŒé‚®ç®±å¯†ç ç™»å½•
- **é‚®ç®±éªŒè¯**ï¼šç‚¹å‡»é‚®ä»¶é“¾æ¥å®ŒæˆéªŒè¯
- **å›è°ƒå¤„ç†**ï¼šè‡ªåŠ¨å¤„ç†è®¤è¯å›è°ƒå’Œä¼šè¯åˆ›å»º

### ç”¨æˆ·èµ„æ–™

- **æŸ¥çœ‹èµ„æ–™**ï¼šæ˜¾ç¤ºç”¨æˆ· IDã€é‚®ç®±ã€æ³¨å†Œæ—¶é—´ç­‰ä¿¡æ¯
- **å¤´åƒä¸Šä¼ **ï¼šæ”¯æŒä¸Šä¼ è‡ªå®šä¹‰å¤´åƒ ğŸ†•
  - æ”¯æŒ JPGã€PNGã€GIF ç­‰å›¾ç‰‡æ ¼å¼
  - æ–‡ä»¶å¤§å°é™åˆ¶ 2MB
  - å®æ—¶é¢„è§ˆ
  - è‡ªåŠ¨ä¿å­˜åˆ° Supabase Storage
  - å¤šè®¾å¤‡åŒæ­¥

### å¤´åƒä¸Šä¼ åŠŸèƒ½ ğŸ†•

#### ä½¿ç”¨æ–¹æ³•

1. ç™»å½•è´¦æˆ·
2. è®¿é—®ä¸ªäººèµ„æ–™é¡µé¢ï¼ˆ/profileï¼‰
3. ç‚¹å‡»å¤´åƒï¼ˆæ‚¬åœæ—¶æ˜¾ç¤ºç›¸æœºå›¾æ ‡ï¼‰
4. é€‰æ‹©å›¾ç‰‡å¹¶é¢„è§ˆ
5. ç‚¹å‡»"ç¡®è®¤ä¸Šä¼ "
6. ä¸Šä¼ æˆåŠŸåå¤´åƒç«‹å³æ›´æ–°

#### æŠ€æœ¯å®ç°

- ä½¿ç”¨ Supabase Storage å­˜å‚¨å¤´åƒæ–‡ä»¶
- å¤´åƒ URL ä¿å­˜åœ¨ç”¨æˆ·å…ƒæ•°æ®ä¸­
- æ”¯æŒæ–‡ä»¶ç±»å‹å’Œå¤§å°éªŒè¯
- ä½¿ç”¨ shadcn/ui Dialog ç»„ä»¶å®ç°ä¸Šä¼ ç•Œé¢
- é›†æˆ lucide-react å›¾æ ‡åº“

è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼š[AVATAR_UPLOAD_GUIDE.md](./AVATAR_UPLOAD_GUIDE.md)

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start

# ä»£ç æ£€æŸ¥
npm run lint

# æ·»åŠ  shadcn/ui ç»„ä»¶
npx shadcn@latest add [component-name]
```

## ğŸ“š æ–‡æ¡£

- [STORAGE_SETUP.md](./STORAGE_SETUP.md) - Supabase Storage è¯¦ç»†é…ç½®æŒ‡å—
- [AVATAR_UPLOAD_GUIDE.md](./AVATAR_UPLOAD_GUIDE.md) - å¤´åƒä¸Šä¼ åŠŸèƒ½ä½¿ç”¨æŒ‡å—
- [SHADCN_UI_GUIDE.md](./SHADCN_UI_GUIDE.md) - shadcn/ui ä½¿ç”¨æŒ‡å—
- [SHADCN_UI_SUMMARY.md](./SHADCN_UI_SUMMARY.md) - shadcn/ui é›†æˆæ€»ç»“

## ğŸ”’ å®‰å…¨æ€§

### è®¤è¯å®‰å…¨

- ä½¿ç”¨ Supabase Auth è¿›è¡Œç”¨æˆ·è®¤è¯
- æ”¯æŒé‚®ç®±éªŒè¯
- ä½¿ç”¨ HTTP-only cookies å­˜å‚¨ä¼šè¯
- è‡ªåŠ¨åˆ·æ–°è®¿é—®ä»¤ç‰Œ

### å­˜å‚¨å®‰å…¨

- ä½¿ç”¨ Row Level Security (RLS) ç­–ç•¥
- ç”¨æˆ·åªèƒ½ä¸Šä¼ å’Œç®¡ç†è‡ªå·±çš„å¤´åƒ
- å…¬å¼€è¯»å–ï¼Œè®¤è¯å†™å…¥
- æ–‡ä»¶è·¯å¾„éªŒè¯ï¼Œé˜²æ­¢è¶Šæƒè®¿é—®

## ğŸŒ éƒ¨ç½²

### Vercelï¼ˆæ¨èï¼‰

1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
4. éƒ¨ç½²

### å…¶ä»–å¹³å°

ç¡®ä¿è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶æ”¯æŒ Next.js 15 çš„ App Routerã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šNext.js 15 (App Router)
- **è¯­è¨€**ï¼šTypeScript
- **æ ·å¼**ï¼šTailwind CSS v4
- **UI ç»„ä»¶**ï¼šshadcn/ui
- **åç«¯æœåŠ¡**ï¼šSupabase
  - Authentication
  - Storage
  - Database (PostgreSQL)
- **å›¾æ ‡**ï¼šlucide-react
- **é€šçŸ¥**ï¼šSonner

## ğŸ“ å¾…åŠäº‹é¡¹

- [ ] æ·»åŠ å¯†ç é‡ç½®åŠŸèƒ½
- [ ] æ·»åŠ ç”¨æˆ·èµ„æ–™ç¼–è¾‘åŠŸèƒ½
- [ ] å®ç°å›¾ç‰‡å‹ç¼©å’Œè£å‰ª
- [ ] æ·»åŠ ç¤¾äº¤ç™»å½•ï¼ˆGoogleã€GitHub ç­‰ï¼‰
- [ ] åˆ›å»ºä»ªè¡¨æ¿é¡µé¢
- [ ] æ·»åŠ æ•°æ®è¡¨æ ¼å±•ç¤º
- [ ] å®ç°æœç´¢å’Œç­›é€‰åŠŸèƒ½

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

1. âœ… å…‹éš†é¡¹ç›®
2. âœ… å®‰è£…ä¾èµ–ï¼š`npm install`
3. âœ… é…ç½®ç¯å¢ƒå˜é‡ï¼š`.env.local`
4. âœ… é…ç½® Supabase Storageï¼ˆå¦‚éœ€å¤´åƒä¸Šä¼ ï¼‰
5. âœ… å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š`npm run dev`
6. âœ… è®¿é—® http://localhost:3000

**ç¥ä½ å¼€å‘æ„‰å¿«ï¼ğŸš€**
